# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3
## Kubernetes

Kubernetes ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–∫–µ—Å—Ç—Ä–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –≥–æ—Ç–æ–≤–∞—è –¥–ª—è production –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤ —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º –∫—É–±–µ—Ä–Ω–µ—Ç–µ—Å–∞ –∏ –µ–≥–æ –∏–∑—É—á–µ–Ω–∏—è, –µ–≥–æ –Ω–∞–¥–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ, —Å–∞–º—ã–º –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º –¥–ª—è —ç—Ç–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ minikube. –í—Å—è —Ä–∞–±–æ—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ MacOS, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –û–° –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ –æ—Ñ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ minikube: https://kubernetes.io/ru/docs/tasks/tools/install-minikube/

–ü—Ä–æ–π–¥–µ–º —à–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ minikube –∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã —É—Ç–∏–ª–∏—Ç –ø–æ –ø–æ—Ä—è–¥–∫—É:
1. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å kubectl - –∫–æ–º–∞–Ω–¥–Ω—É—é —É—Ç–∏–ª–∏—Ç—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏ –∫—É–±–µ—Ä–Ω–µ—Ç–µ—Å–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ –∫–æ–Ω—Ñ–∏–≥–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:
```brew install kubectl ```
2. –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ kubectl —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è:
```kubectl version --client```
3. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ kubectl, —É—Å—Ç–∞–Ω–æ–≤–∏–º —Å–∞–º minikube, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –Ω–∞–º –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–æ–¥–æ–π:
```brew install minikube```
4. –¢–∞–∫ –∂–µ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ minikube —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è:
```minikube status```
5. –ó–∞–ø—É—Å—Ç–∏–º minikube
```minikube start```
–ì–æ—Ç–æ–≤–æ, –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –∏ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –∑–∞–ø—É—Å–∫–∞ –Ω–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞.
> –°–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –Ω–µ –±—É–¥–µ—Ç, —Ç–∞–∫ –∫–∞–∫ kubectl –∏ minikube –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —É –º–µ–Ω—è —É–∂–µ –æ—á–µ–Ω—å –¥–∞–≤–Ω–æ

–¢–∞–∫ –∂–µ —É—á—Ç–∏—Ç–µ, —á—Ç–æ minikube —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∫–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, —Ç–∞–∫ —É –º–µ–Ω—è –¥–æ–∫–µ—Ä—É –±—ã–ª–æ –≤—ã–¥–µ–ª–µ–Ω–æ –≤—Å–µ–≥–æ 3 CPU, –∞ minikube –Ω–∞–¥–æ 4, –∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ minikube –≤—ã–¥–∞–ª –º–Ω–µ —Å–ª–µ–¥—É—é—â—É—é –æ—à–∏–±–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
```
üòÑ  minikube v1.32.0 –Ω–∞ Darwin 14.6.1 (arm64)
‚ú®  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä–∞–π–≤–µ—Ä docker –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
- Ensure your docker daemon has access to enough CPU/memory resources.
- Docs https://docs.docker.com/docker-for-mac/#resources

‚õî  Exiting due to RSRC_INSUFFICIENT_CORES: Requested cpu count 4 is greater than the available cpus of 3
```
–í –¥–∞–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –¥–æ–∫–µ—Ä–∞, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ, –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å minikube –∑–∞–Ω–æ–≤–æ.

## Minikube
–ü–µ—Ä–µ–π–¥–µ–º –∫ –∑–∞–ø—É—Å–∫—É –∫–ª–∞—Å—Ç–µ—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ–º –ø–æ–¥–Ω–∏–º–∞—Ç—å –ø–æ–¥—ã, –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–ª–∞—Å—Ç–µ—Ä–∞. –ù–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –≤–≤–µ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –ø–æ–º–µ—Ç–∫—É, –µ—Å–ª–∏ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ –ª–∏—á–Ω—ã–µ, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –¥–æ–∫–µ—Ä–∞, –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è, –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ –∑–∞–ø—É—Å–∫–∞—Ç—å minikube —Å–ª–µ–¥—É—é—â–∏–º —Å–ø–æ—Å–æ–±–æ–º:
1. –ó–∞–ø—É—Å—Ç–∏–º minikube –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –¥–æ–∫–µ—Ä–∞
```eval $(minikube -p minikube docker-env)```
2. –°–±–∏–ª–¥–∏–º –Ω–∞—à–∏ –æ–±—Ä–∞–∑—ã –Ω–∞—Ö–æ–¥—è—Å—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–≤–µ–ª–∏ –ø—Ä–µ—ã–¥—É—â—É—é –∫–æ–º–º–∞–Ω–¥—É
3. –í–æ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ–¥–∞–º–∏, –≤—ã—Å—Ç–∞–≤–∏–º –¥–ª—è –Ω–∏—Ö
```imagePullPolicy: Never```
4. –ì–æ—Ç–æ–≤–æ, –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–µ—Å—É—Ä—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –≤–∞—à–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –¥–æ–∫–µ—Ä–∞

–ü–µ—Ä–µ—Ö–æ–¥—è –∫ –∑–∞–ø—É—Å–∫—É, –≤–≤–µ–¥–µ–º –∫–æ–º–∞–Ω–¥—É
```minikube start```
–ò –ø–æ–ª—É—á–∏–º –Ω–µ—á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ
```
üòÑ  minikube v1.32.0 –Ω–∞ Darwin 14.6.1 (arm64)
‚ú®  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä–∞–π–≤–µ—Ä docker –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
üëç  –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è control plane —É–∑–µ–ª minikube –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ minikube
üöú  –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ ...
üîÑ  –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π docker container –¥–ª—è "minikube" ...
üê≥  –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Kubernetes v1.28.3 –Ω–∞ Docker 24.0.7 ...
üîó  Configuring bridge CNI (Container Networking Interface) ...
üîé  –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Kubernetes –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è ...
üí°  After the addon is enabled, please run "minikube tunnel" and your ingress resources would be available at "127.0.0.1"
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/controller:v1.9.4
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ gcr.io/k8s-minikube/storage-provisioner:v5
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20231011-8b53cabe0
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20231011-8b53cabe0
üîé  Verifying ingress addon...
üåü  –í–∫–ª—é—á–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è: storage-provisioner, ingress, default-storageclass
üèÑ  –ì–æ—Ç–æ–≤–æ! kubectl –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ "minikube" –∏ "default" –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```
–£ –≤–∞—Å –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫, –∏–ª–∏ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–º–∏, —Ç–∞–∫ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, —ç—Ç–æ –ø–ª–∞–≥–∏–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ —è —É—Å—Ç–∞–Ω–æ–≤–∏–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ minikube, –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö - ingress
```
üí°  After the addon is enabled, please run "minikube tunnel" and your ingress resources would be available at "127.0.0.1"
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/controller:v1.9.4
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ gcr.io/k8s-minikube/storage-provisioner:v5
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20231011-8b53cabe0
    ‚ñ™ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20231011-8b53cabe0
üîé  Verifying ingress addon...
üåü  –í–∫–ª—é—á–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è: storage-provisioner, ingress, default-storageclass
```
–°—É–ø–µ—Ä, –Ω–∞—à –∫–ª–∞—Å—Ç–µ—Ä –ø–æ–¥–Ω—è—Ç, —Ç–µ–ø–µ—Ä—å –Ω–∞–¥–æ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ —É –≤—ã –¥–æ —ç—Ç–æ–≥–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å kubectl) –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø—Ä–æ–≤–µ—Ä–∏–º –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏:
```kubectl config get-contexts``` - –í—ã–≤–µ–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω –≤–∞—à kubectl, —Å—Ä–µ–¥–∏ –Ω–∏—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ```minikube```
```kubectl config use-context minikube``` - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç –≤–∞—Å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç minikube –∫–ª–∞—Å—Ç–µ—Ä–∞, –∏ –≤—ã–≤–µ–¥–µ—Ç ```Switched to context "minikube".``` –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞.

### Work in progress